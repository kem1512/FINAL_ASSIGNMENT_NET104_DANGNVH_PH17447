@model HoaDon
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="row mt-3">
    <div class="col-lg-12">
        <div class="card">
            @{
                if(Model == null)
                {
                    <div>Hóa Đơn Không Tồn Tại</div>
                }
                else
                {
                    <div class="card-body">
                        <div style="display: flex; justify-content: space-between">
                            <div class="card-title text-uppercase">Chi tiết đơn hàng #@Model.Id</div>
                            <span style="text-transform: uppercase; font-weight: bold">Trạng thái: @(Model.TinhTrang == 0 ? "Chưa Hoàn Thành" : "Đã Hoàn Thành")</span>
                        </div>
                        <div class="table-responsive">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Ảnh sản phẩm</th>
                                        <th>Tên sản phẩm</th>
                                        <th>Dòng sản phẩm</th>
                                        <th>Hãng</th>
                                        <th>Màu sắc</th>
                                        <th>Số lượng</th>
                                        <th>Đơn giá</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var x in Model.HoaDonChiTiets)
                                    {
                                        <tr>
                                            <td class="align-middle w-25"><img class="w-50" style="border-radius: 25px" src="@x.ChiTietSp.Anh" /></td>
                                            <td class="align-middle">@x.ChiTietSp.SanPham.Ten</td>
                                            <td class="align-middle">@x.ChiTietSp.SanPham.DongSp.Ten</td>
                                            <td class="align-middle">@x.ChiTietSp.SanPham.DongSp.Nsx.Ten</td>
                                            <td class="align-middle">@x.ChiTietSp.MauSac.Ten</td>
                                            <td class="align-middle">@x.SoLuong</td>
                                            <td class="align-middle">@Helper.FormatVietNamDong(x.DonGia)</td>
                                        </tr>
                                    }
                                    <tr>
                                        <td>Tổng số sản phẩm: @Model.HoaDonChiTiets.Count</td>
                                        <td colspan="6" style="text-align: end">Tổng Tiền : @Helper.FormatVietNamDong(Model.TongTien)</td>
                                    </tr>
                                    <tr class="btn-print">
                                        <td>
                                            <button onclick="window.print()" class="btn btn-primary" style="text-align: end">In Hóa Đơn</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                }
            }
        </div>
    </div>
</div>
